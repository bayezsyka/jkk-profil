import{u as b,r as s,j as e}from"./app-bX8639qO.js";import{P as v}from"./PublicLayout-CmBxjh-r.js";import{m as r}from"./proxy-BqF2iJK1.js";import{A as g}from"./index-iexgFFgw.js";function I({projects:p}){const{t:o,locale:f}=b(),[n,j]=s.useState("all"),[m,c]=s.useState(!1),[i,d]=s.useState(0),h=s.useMemo(()=>p.flatMap(t=>t.images.map(a=>({id:a.id,src:`/storage/${a.image_path}`,projectTitle:t.title,projectLocation:t.location,projectDate:t.date,category:t.category,originalProject:t}))),[p]),l=s.useMemo(()=>n==="all"?h:h.filter(t=>t.category===n),[h,n]),y=t=>{d(t),c(!0)},x=t=>{t?.stopPropagation(),d(a=>(a+1)%l.length)},u=t=>{t?.stopPropagation(),d(a=>(a-1+l.length)%l.length)};s.useState(()=>{const t=a=>{m&&(a.key==="Escape"&&c(!1),a.key==="ArrowRight"&&x(),a.key==="ArrowLeft"&&u())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)});const w=[{id:"all",label:o("gallery.filters.all")},{id:"batching_plant",label:o("gallery.filters.batching_plant")},{id:"asphalt_mixing_plant",label:o("gallery.filters.asphalt_mixing_plant")},{id:"construction",label:o("gallery.filters.construction")}];return e.jsxs(v,{title:o("gallery.title"),headerTitle:o("gallery.our_gallery"),children:[e.jsxs("div",{className:"flex-1 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-10",children:w.map(t=>e.jsx("button",{onClick:()=>j(t.id),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${n===t.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-100 hover:border-slate-300"}`,children:t.label},t.id))}),e.jsx(r.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(g,{mode:"popLayout",children:l.map((t,a)=>e.jsxs(r.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"group cursor-pointer relative aspect-[4/3] rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow bg-slate-200",onClick:()=>y(a),children:[e.jsx("img",{src:t.src,alt:t.projectTitle,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[e.jsx("h3",{className:"text-white font-bold text-lg leading-tight mb-1",children:t.projectTitle}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[t.projectLocation," • ",new Date(t.projectDate).getFullYear()]})]})]},t.id))})}),l.length===0&&e.jsx("div",{className:"text-center py-20 text-slate-500",children:e.jsx("p",{children:o("gallery.empty")})})]}),e.jsx(g,{children:m&&e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>c(!1),children:[e.jsx("button",{className:"absolute top-6 right-6 text-white/70 hover:text-white z-50 p-2",onClick:()=>c(!1),children:e.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white p-2 rounded-full hover:bg-white/10 transition-colors z-50 disabled:opacity-30 hidden md:block",onClick:u,children:e.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white p-2 rounded-full hover:bg-white/10 transition-colors z-50 hidden md:block",onClick:x,children:e.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] flex flex-col items-center",onClick:t=>t.stopPropagation(),children:[e.jsx(r.img,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},src:l[i].src,alt:l[i].projectTitle,className:"max-w-full max-h-[80vh] object-contain rounded shadow-2xl"},l[i].id),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-4 text-center text-white",children:[e.jsx("h3",{className:"text-xl font-bold",children:l[i].projectTitle}),e.jsxs("p",{className:"text-slate-400 mt-1",children:[l[i].projectLocation," • ",new Date(l[i].projectDate).toLocaleDateString(f==="id"?"id-ID":"en-US",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsxs("div",{className:"flex justify-between w-full md:hidden mt-4 px-4",children:[e.jsx("button",{onClick:u,className:"text-white p-2 bg-white/10 rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:x,className:"text-white p-2 bg-white/10 rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})})]})}export{I as default};
