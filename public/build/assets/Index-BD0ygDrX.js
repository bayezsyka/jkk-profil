import{r as u,a as N,j as e,H as v,b as C}from"./app-CazB68uu.js";import{A as w}from"./AdminLayout-Cu30cWMc.js";import{M as k}from"./Modal-Cxo7MeL1.js";import"./portal-CQfNXwTK.js";function D({categories:i}){const[m,o]=u.useState(!1),[n,l]=u.useState(null),{data:d,setData:t,post:p,put:g,processing:c,errors:r,reset:h,clearErrors:x}=N({name:"",description:""}),b=()=>{l(null),t({name:"",description:""}),x(),o(!0)},f=s=>{l(s),t({name:s.name,description:s.description||""}),x(),o(!0)},a=()=>{o(!1),l(null),h()},j=s=>{s.preventDefault(),n?g(route("admin.categories.update",n.id),{onSuccess:()=>a()}):p(route("admin.categories.store"),{onSuccess:()=>a()})},y=s=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&C.delete(route("admin.categories.destroy",s))};return e.jsxs(w,{children:[e.jsx(v,{title:"Manage Categories"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Categories"}),e.jsxs("button",{onClick:b,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Category"]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-xs uppercase text-gray-500 font-semibold",children:[e.jsx("th",{className:"px-6 py-4",children:"Name"}),e.jsx("th",{className:"px-6 py-4",children:"Slug"}),e.jsx("th",{className:"px-6 py-4",children:"Articles"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:i.data.length>0?i.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:s.name}),e.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:s.slug}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full",children:s.articles_count})}),e.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>f(s),className:"text-gray-400 hover:text-blue-600 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>y(s.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:"Delete"})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No categories found."})})})]})}),e.jsx(k,{show:m,onClose:a,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:n?"Edit Category":"Create New Category"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:d.name,onChange:s=>t("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g. Tips Konstruksi",required:!0}),r.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),e.jsx("textarea",{value:d.description,onChange:s=>t("description",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",rows:3,placeholder:"Short description..."}),r.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.description})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Saving...":"Save Category"})]})]})]})})]})}export{D as default};
