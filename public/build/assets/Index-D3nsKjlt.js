import{r as s,j as e}from"./app-ssrkRXX-.js";import{P as w}from"./PublicLayout-Da-uo6FK.js";import{m as l}from"./proxy-CKkdqIxT.js";import{A as m}from"./index-DW6i0FVV.js";function N({projects:u}){const[r,g]=s.useState("all"),[p,n]=s.useState(!1),[i,c]=s.useState(0),d=s.useMemo(()=>u.flatMap(t=>t.images.map(o=>({id:o.id,src:`/storage/${o.image_path}`,projectTitle:t.title,projectLocation:t.location,projectDate:t.date,category:t.category,originalProject:t}))),[u]),a=s.useMemo(()=>r==="all"?d:d.filter(t=>t.category===r),[d,r]),f=t=>{c(t),n(!0)},h=t=>{t?.stopPropagation(),c(o=>(o+1)%a.length)},x=t=>{t?.stopPropagation(),c(o=>(o-1+a.length)%a.length)};s.useState(()=>{const t=o=>{p&&(o.key==="Escape"&&n(!1),o.key==="ArrowRight"&&h(),o.key==="ArrowLeft"&&x())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)});const j=[{id:"all",label:"Semua"},{id:"batching_plant",label:"Batching Plant"},{id:"asphalt_mixing_plant",label:"Asphalt Mixing Plant"},{id:"construction",label:"Konstruksi"}];return e.jsxs(w,{title:"Galeri Proyek - JKK",headerTitle:"Galeri Proyek",children:[e.jsxs("div",{className:"flex-1 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-10",children:j.map(t=>e.jsx("button",{onClick:()=>g(t.id),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 ${r===t.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-100 hover:border-slate-300"}`,children:t.label},t.id))}),e.jsx(l.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(m,{mode:"popLayout",children:a.map((t,o)=>e.jsxs(l.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"group cursor-pointer relative aspect-[4/3] rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-shadow bg-slate-200",onClick:()=>f(o),children:[e.jsx("img",{src:t.src,alt:t.projectTitle,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[e.jsx("h3",{className:"text-white font-bold text-lg leading-tight mb-1",children:t.projectTitle}),e.jsxs("p",{className:"text-slate-300 text-sm",children:[t.projectLocation," • ",new Date(t.projectDate).getFullYear()]})]})]},t.id))})}),a.length===0&&e.jsx("div",{className:"text-center py-20 text-slate-500",children:e.jsx("p",{children:"Belum ada foto untuk kategori ini."})})]}),e.jsx(m,{children:p&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>n(!1),children:[e.jsx("button",{className:"absolute top-6 right-6 text-white/70 hover:text-white z-50 p-2",onClick:()=>n(!1),children:e.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white p-2 rounded-full hover:bg-white/10 transition-colors z-50 disabled:opacity-30 hidden md:block",onClick:x,children:e.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white p-2 rounded-full hover:bg-white/10 transition-colors z-50 hidden md:block",onClick:h,children:e.jsx("svg",{className:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"relative max-w-7xl max-h-[90vh] flex flex-col items-center",onClick:t=>t.stopPropagation(),children:[e.jsx(l.img,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},src:a[i].src,alt:a[i].projectTitle,className:"max-w-full max-h-[80vh] object-contain rounded shadow-2xl"},a[i].id),e.jsxs(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-4 text-center text-white",children:[e.jsx("h3",{className:"text-xl font-bold",children:a[i].projectTitle}),e.jsxs("p",{className:"text-slate-400 mt-1",children:[a[i].projectLocation," • ",new Date(a[i].projectDate).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsxs("div",{className:"flex justify-between w-full md:hidden mt-4 px-4",children:[e.jsx("button",{onClick:x,className:"text-white p-2 bg-white/10 rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:h,className:"text-white p-2 bg-white/10 rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})})]})}export{N as default};
