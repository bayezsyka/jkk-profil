import{a as c,j as e,H as m,L as u}from"./app-CeD2Tg5y.js";import{A as x}from"./AdminLayout-ChPdBLbC.js";function h(){const{data:a,setData:l,post:d,processing:r,errors:s}=c({title:"",location:"",date:"",category:"construction",subcategory:"",description:"",images:[]}),o=t=>{t.preventDefault(),d(route("admin.projects.store"),{forceFormData:!0})},n=t=>{t.target.files&&l("images",Array.from(t.target.files))};return e.jsxs(x,{children:[e.jsx(m,{title:"Tambah Proyek"}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-100 p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Tambah Proyek Baru"}),e.jsx(u,{href:route("admin.projects.index"),className:"text-gray-600 hover:text-gray-900",children:"Kembali ke Daftar"})]}),e.jsxs("form",{onSubmit:o,encType:"multipart/form-data",children:[Object.keys(s).length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("h3",{className:"text-red-800 font-medium mb-2",children:"Please fix the following errors:"}),e.jsx("ul",{className:"list-disc list-inside text-red-600 text-sm",children:Object.entries(s).map(([t,i])=>e.jsxs("li",{children:[e.jsxs("span",{className:"capitalize font-semibold",children:[t.replace("_"," "),":"]})," ",i]},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title"}),e.jsx("input",{type:"text",value:a.title,onChange:t=>l("title",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:a.location,onChange:t=>l("location",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.location&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:a.date,onChange:t=>l("date",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.date&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:a.category,onChange:t=>l("category",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"construction",children:"Construction"}),e.jsx("option",{value:"batching_plant",children:"Batching Plant"}),e.jsx("option",{value:"asphalt_mixing_plant",children:"Asphalt Mixing Plant"})]}),s.category&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategory (Optional)"}),e.jsx("input",{type:"text",value:a.subcategory,onChange:t=>l("subcategory",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"e.g. Bridge, Drainage"}),s.subcategory&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.subcategory})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:t=>l("description",t.target.value),rows:4,className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"}),s.description&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.description})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Images"}),e.jsx("input",{type:"file",multiple:!0,onChange:n,accept:"image/*",className:`w-full text-sm text-gray-500
                                file:mr-4 file:py-2 file:px-4
                                file:rounded-md file:border-0
                                file:text-sm file:font-semibold
                                file:bg-blue-50 file:text-blue-700
                                hover:file:bg-blue-100`}),s.images&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.images}),a.images.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Selected files:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-500",children:Array.from(a.images).map((t,i)=>e.jsx("li",{children:t.name},i))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:r,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md transition-all ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Saving...":"Create Project"})})]})]})]})}export{h as default};
