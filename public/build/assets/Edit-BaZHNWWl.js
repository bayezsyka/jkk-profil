import{a as u,r as x,j as e,H as h,L as b}from"./app-DbNmtW33.js";import{A as g}from"./AdminLayout-CmeeY8kk.js";import{I as j,R as p}from"./quill.snow-kC5dyflZ.js";import"./imageUtils-CYfP8GDk.js";function w({article:a,categories:o}){const{data:r,setData:l,post:n,processing:i,errors:s}=u({_method:"PUT",title:a.title,category_id:a.category_id,status:a.status,content:a.content,thumbnail:null,published_at:a.published_at?a.published_at.substring(0,16):"",seo_title:a.seo_title||"",seo_keywords:a.seo_keywords||""}),[d,m]=x.useState(!1),c=t=>{t.preventDefault(),n(route("admin.articles.update",a.id),{forceFormData:!0})};return e.jsxs(g,{children:[e.jsx(h,{title:"Edit Artikel"}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-100 p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Artikel"}),e.jsx(b,{href:route("admin.articles.index"),className:"text-gray-600 hover:text-gray-900",children:"Kembali ke Daftar"})]}),e.jsxs("form",{onSubmit:c,encType:"multipart/form-data",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Judul"}),e.jsx("input",{type:"text",value:r.title,onChange:t=>l("title",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:r.category_id,onChange:t=>l("category_id",Number(t.target.value)),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),o.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),s.category_id&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.category_id})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(j,{label:"Thumbnail",onChange:t=>l("thumbnail",t),error:s.thumbnail,initialPreview:a.thumbnail})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),e.jsx("div",{className:"h-96 mb-12",children:e.jsx(p,{theme:"snow",value:r.content,onChange:t=>l("content",t),style:{height:"300px"}})}),s.content&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.content})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"button",onClick:()=>m(!d),className:"flex items-center text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx("svg",{className:`w-4 h-4 mr-2 transform transition-transform ${d?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),d?"Sembunyikan Pengaturan Lanjutan":"Tampilkan Pengaturan Lanjutan (SEO, Status, Tanggal)"]})}),d&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-6 border border-gray-100 animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:r.status,onChange:t=>l("status",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"DRAFT",children:"Draft"}),e.jsx("option",{value:"PUBLISHED",children:"Published"}),e.jsx("option",{value:"ARCHIVED",children:"Archived"})]}),s.status&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Published At"}),e.jsx("input",{type:"datetime-local",value:r.published_at,onChange:t=>l("published_at",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"}),s.published_at&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.published_at})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"SEO Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SEO Title"}),e.jsx("input",{type:"text",value:r.seo_title,onChange:t=>l("seo_title",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Leave blank to use article title"}),s.seo_title&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.seo_title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SEO Keywords"}),e.jsx("input",{type:"text",value:r.seo_keywords,onChange:t=>l("seo_keywords",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Comma separated keywords"}),s.seo_keywords&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:s.seo_keywords})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx("button",{type:"submit",disabled:i,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md transition-all ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Memperbarui...":"Perbarui Artikel"})})]})]})]})}export{w as default};
