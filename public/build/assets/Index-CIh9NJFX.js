import{r,a as f,R as v,j as e,H as w,b as k}from"./app-bX8639qO.js";import{A as N}from"./AdminLayout-Cu2XqYgk.js";import{M as y}from"./MultiImageUpload-DVp1ppcp.js";import"./imageUtils-CYfP8GDk.js";function F({photos:l}){const[t,n]=r.useState(!1),[i,d]=r.useState(null),[c,a]=r.useState(null),{data:m,setData:h,post:x,processing:o,errors:u,reset:g}=f({images:[]}),b=v.useCallback(s=>{h("images",s)},[h]),p=s=>{s.preventDefault(),x(route("admin.company-gallery.store"),{forceFormData:!0,onSuccess:()=>{g(),n(!1)}})},j=s=>{confirm("Yakin ingin menghapus foto ini?")&&(d(s),k.delete(route("admin.company-gallery.destroy",s),{onFinish:()=>d(null)}))};return e.jsxs(N,{children:[e.jsx(w,{title:"Galeri Perusahaan"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-2xl border border-slate-100 p-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Galeri Perusahaan"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Kelola foto-foto galeri perusahaan yang ditampilkan di halaman Tentang Kami"})]}),e.jsx("button",{onClick:()=>n(!t),className:`flex items-center font-bold py-3 px-6 rounded-2xl transition-all shadow-lg hover:-translate-y-0.5 ${t?"bg-slate-200 text-slate-600 shadow-slate-100 hover:bg-slate-300":"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-100"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Batal"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Tambah Foto"]})})]})}),t&&e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-2xl border border-slate-100 p-8 animate-in slide-in-from-top duration-300",children:e.jsxs("form",{onSubmit:p,encType:"multipart/form-data",className:"space-y-6",children:[e.jsx(y,{label:"Upload Foto Galeri",onChange:b,error:u.images}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100",children:e.jsx("button",{type:"submit",disabled:o||m.images.length===0,className:`flex items-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-2xl transition-all shadow-lg shadow-blue-100 hover:-translate-y-0.5 ${o||m.images.length===0?"opacity-50 cursor-not-allowed":""}`,children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Mengupload..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Simpan Foto"]})})})]})}),l.length===0?e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-2xl border border-slate-100 p-16 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Belum ada foto"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:'Klik tombol "Tambah Foto" untuk menambahkan foto ke galeri.'})]}):e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-2xl border border-slate-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[e.jsx("span",{className:"text-slate-800 font-bold",children:l.length})," foto dalam galeri"]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:l.map(s=>e.jsxs("div",{className:"group relative aspect-square rounded-2xl overflow-hidden bg-slate-100 border border-slate-100 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("img",{src:`/storage/${s.image_path}`,alt:"Gallery",className:"w-full h-full object-cover cursor-pointer",onClick:()=>a(`/storage/${s.image_path}`)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300",children:e.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-end",children:[e.jsx("button",{onClick:()=>a(`/storage/${s.image_path}`),className:"p-2 bg-white/90 backdrop-blur-sm rounded-xl hover:bg-white transition-colors shadow-lg",title:"Lihat foto",children:e.jsx("svg",{className:"w-4 h-4 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})}),e.jsx("button",{onClick:()=>j(s.id),disabled:i===s.id,className:"p-2 bg-red-500/90 backdrop-blur-sm rounded-xl hover:bg-red-600 transition-colors shadow-lg",title:"Hapus foto",children:i===s.id?e.jsxs("svg",{className:"animate-spin w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},s.id))})]})]}),c&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",onClick:()=>a(null),children:[e.jsx("button",{onClick:()=>a(null),className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-2xl transition-colors",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("img",{src:c,alt:"Preview",className:"max-w-full max-h-[90vh] object-contain rounded-2xl shadow-2xl",onClick:s=>s.stopPropagation()})]})]})}export{F as default};
